<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Budget Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="sidebar">
    <ul>
      <li><a href="{{ url_for('index') }}">Home</a></li>
      <li><a href="{{ url_for('transactions') }}">Transaction History</a></li>
    </ul>
    <div class="ad-container">
      <video autoplay muted>
        <source src="{{ url_for('static', filename='ads/' + selected_ad) }}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>
  </div>
  <div class="container">
    <h1>Welcome, User!</h1>
    <p>Here's your spending breakdown over the past 30 days:</p>
    <div class="chart-container">
      <canvas id="categoryPieChart"></canvas>
    </div>
    <p>In total you've spent {{ total }} in the last 30 days.</p>
  </div>
  <div class="add-transaction-form">
    <h2>Add a Transaction</h2>
    <form action="/add_transaction" method="POST">
      <label for="amount">Amount:</label>
      <input type="number" name="amount" placeholder="Enter amount" required>

      <label for="category_id">Category:</label>
      <select name="category_id" required>
        <option value="1">Groceries</option>
        <option value="2">Rent</option>
        <option value="3">Salary</option>
        <option value="4">Entertainment</option>
        <option value="5">Utilities</option>
      </select>

      <label for="description">Description:</label>
      <input type="text" name="description" placeholder="Enter description" required>

      <label for="date">Date:</label>
      <input type="date" name="date" required>

      <button type="submit">Add Transaction</button>
    </form>
  </div>
  <script src="{{ url_for('static', filename='chart.js') }}"></script>
</body>
</html>
